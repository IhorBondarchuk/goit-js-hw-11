{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryElement = document.querySelector('.gallery');\nconst loaderElement = document.querySelector('.loader');\n\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionsDelay: 250\n});\n\nfunction createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <div class=\"container\">\n    <li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\">\n      </a>\n    </li>\n    <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b> ${likes}</p>\n    <p class=\"info-item\"><b>Views</b> ${views}</p>\n    <p class=\"info-item\"><b>Comments</b> ${comments}</p>\n    <p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n    </div>\n    </div>\n    `).join('');\n\n    galleryElement.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n};\n\n\nfunction clearGallery() {\n    galleryElement.innerHTML = \"\";\n};\n\nfunction showLoader() {\n    loaderElement.classList.remove('is-hidden');\n};\n\nfunction hideLoader() {\n    loaderElement.classList.add('is-hidden');\n};\n\n\nexport { hideLoader, showLoader, clearGallery, createGallery };","import axios from \"axios\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"52835014-1fa6accc1c58d324fc268a772\";\n\nexport function getImagesByQuery(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n    return axios.get(`${BASE_URL}?${params}`)\n        .then(resp => resp.data)\n        .catch(error => {\n            console.log(error); \n    })\n};\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { hideLoader, showLoader, clearGallery, createGallery } from \"./js/render-functions\";\nimport { getImagesByQuery } from \"./js/pixabay-api\";\n\nconst formElement = document.querySelector('.form');\n\nformElement.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(evt) {\n    evt.preventDefault();\n    \n\n    const query = evt.currentTarget.elements['search-text'].value.trim();\n    if (!query) {\n        iziToast.warning({\n            message: \"Please enter a search query\",\n            position: \"topRight\"\n        });\n\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n    \n\n    getImagesByQuery(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\"\n                });\n                return;\n            }\n            createGallery(data.hits);\n        })\n        .catch(() => {\n            iziToast.error({\n                message: \"Something went wrong. Please try again later.\",\n                position: \"topRight\"\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            formElement.reset();\n        });\n}"],"names":["galleryElement","loaderElement","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","BASE_URL","API_KEY","getImagesByQuery","query","params","axios","resp","error","formElement","handlerSubmit","evt","iziToast","data"],"mappings":"owBAIA,MAAMA,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAgB,SAAS,cAAc,SAAS,EAIhDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,cAAe,GACnB,CAAC,EAED,SAASC,EAAcC,EAAQ,CAC3B,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA;AAAA,iBAG3FL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,wCAINC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA;AAAA,KAGhD,EAAE,KAAK,EAAE,EAEVb,EAAe,mBAAmB,YAAaM,CAAM,EACrDJ,EAAS,QAAO,CACpB,CAGA,SAASY,GAAe,CACpBd,EAAe,UAAY,EAC/B,CAEA,SAASe,GAAa,CAClBd,EAAc,UAAU,OAAO,WAAW,CAC9C,CAEA,SAASe,GAAa,CAClBf,EAAc,UAAU,IAAI,WAAW,CAC3C,CC7CA,MAAMgB,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACD,OAAOE,EAAM,IAAI,GAAGL,CAAQ,IAAII,CAAM,EAAE,EACnC,KAAKE,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAK,CACL,CCXA,MAAMC,EAAc,SAAS,cAAc,OAAO,EAElDA,EAAY,iBAAiB,SAAUC,CAAa,EAEpD,SAASA,EAAcC,EAAK,CACxBA,EAAI,eAAc,EAGlB,MAAMP,EAAQO,EAAI,cAAc,SAAS,aAAa,EAAE,MAAM,OAC9D,GAAI,CAACP,EAAO,CACRQ,EAAS,QAAQ,CACb,QAAS,8BACT,SAAU,UACtB,CAAS,EAED,MACH,CAEDd,IACAC,IAGAI,EAAiBC,CAAK,EACjB,KAAKS,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDxB,EAAcyB,EAAK,IAAI,CACnC,CAAS,EACA,MAAM,IAAM,CACTD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXZ,IACAS,EAAY,MAAK,CAC7B,CAAS,CACT"}